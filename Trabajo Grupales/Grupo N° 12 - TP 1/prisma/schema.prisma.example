// Ejemplo de cómo quedaría schema.prisma después de ejecutar npx prisma db pull
// Este es un EJEMPLO basado en los controladores encontrados

generator client {
  provider = "prisma-client-js"
}

datasource db {
  provider = "mysql"
  url      = env("DATABASE_URL")
}

// Modelo de Productos
model productos {
  id_producto Int     @id @default(autoincrement())
  nombre      String  @db.VarChar(255)
  descripcion String? @db.Text
  categoria   String? @db.VarChar(100)
  cantidad    Int     @default(0)
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  // Relaciones
  entregas    entregas[]
}

// Modelo de Donadores
model donadores {
  id_donador  Int      @id @default(autoincrement())
  nombre      String   @db.VarChar(255)
  apellido    String   @db.VarChar(255)
  email       String   @unique @db.VarChar(255)
  telefono    String?  @db.VarChar(20)
  direccion   String?  @db.Text
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  // Relaciones
  entregas    entregas[]
}

// Modelo de Comedores
model comedores {
  id_comedor  Int      @id @default(autoincrement())
  nombre      String   @db.VarChar(255)
  direccion   String   @db.Text
  responsable String?  @db.VarChar(255)
  telefono    String?  @db.VarChar(20)
  capacidad   Int?
  createdAt   DateTime @default(now())
  updatedAt   DateTime @updatedAt

  // Relaciones
  entregas    entregas[]
}

// Modelo de Entregas
model entregas {
  id_entrega     Int      @id @default(autoincrement())
  fecha_entrega  DateTime @default(now())
  id_producto    Int
  id_donador     Int
  id_comedor     Int
  cantidad       Int
  observaciones  String?  @db.Text
  estado         String   @default("pendiente") @db.VarChar(50)
  createdAt      DateTime @default(now())
  updatedAt      DateTime @updatedAt

  // Relaciones
  producto       productos @relation(fields: [id_producto], references: [id_producto], onDelete: Cascade)
  donador        donadores @relation(fields: [id_donador], references: [id_donador], onDelete: Cascade)
  comedor        comedores @relation(fields: [id_comedor], references: [id_comedor], onDelete: Cascade)

  @@index([id_producto])
  @@index([id_donador])
  @@index([id_comedor])
}

// Si tienen tabla de usuarios
model usuarios {
  id_usuario Int      @id @default(autoincrement())
  nombre     String   @db.VarChar(255)
  email      String   @unique @db.VarChar(255)
  password   String   @db.VarChar(255)
  rol        String   @default("usuario") @db.VarChar(50)
  activo     Boolean  @default(true)
  createdAt  DateTime @default(now())
  updatedAt  DateTime @updatedAt
}
